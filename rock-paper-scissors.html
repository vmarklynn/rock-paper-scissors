<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>
    const choices = ["rock", "paper", "scissors"];
    // Your JavaScript goes here!

    //max random function that picks a number between 0 to max.
    function random(max){
        return Math.floor(Math.random() * max) ;
    }

    //Generate a number between 0 to 2 then the random number is used as an index for the choices array.
    function computerSelection(){
        let rand = random(choices.length);
        return choices[rand];
    }

    function playerSelection(){
        let select = prompt("rock, paper, or scissors?");
        let choice = select.toLowerCase();
        if ((choice !== "rock") && (choice !== "paper") && (choice !== "scissors")){
            playerSelection();
        }
        return choice
    }

    

    //main function for rock paper and scissors
    function playRound(playerSelection, computerSelection){
        if(playerSelection === computerSelection){
            return "draw";
        }else if(((playerSelection === "paper") && (computerSelection === "rock")) || ((playerSelection === "scissors") && (computerSelection === "paper")) || ((playerSelection === "rock") && (computerSelection === "scissors"))){
            return "playerWin";
        }else{
            return "computerWin";
        }
        
    }



    //Driver function game
    function game(){
        let userWin = 0;
        let compWin = 0;
        let userChoice;
        let compChoice;
        for(i = 1; i <= 5; i++){
            userChoice = playerSelection();
            compChoice = computerSelection();
            let result = playRound(userChoice, compChoice);
            if(result === "playerWin"){
                userWin++;
                console.log("Player has won!");
            }else if(result === "computerWin"){
                compWin++;
                console.log("Computer has won!");
            }else{
                console.log("It's a draw!")
            }
        }

        if(userWin > compWin){
            return "Human triumphs!"
        }else if(compWin > userWin){
            return "The machine has won!"
        }else{
            return "No one's going anywhere..."
        }


        }

        console.log(game());

    





  </script>
</body>
</html>